<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>LOYD</title>

<style>
*{box-sizing:border-box}
body{
 margin:0;
 background:#000;
 display:flex;
 justify-content:center;
 font-family:-apple-system,BlinkMacSystemFont;
 color:#fff;
}

.phone{
 width:390px;
 height:844px;
 background:#0b0b0b;
 position:relative;
 overflow:hidden;
 border-radius:40px;
}

.header{
 display:flex;
 justify-content:space-between;
 padding:16px;
 font-size:20px;
 font-weight:700;
}

.storyRow{
 display:flex;
 gap:14px;
 overflow-x:auto;
 padding:10px 14px;
}

.story{
 text-align:center;
 font-size:11px;
}

.story img{
 width:64px;
 height:64px;
 border-radius:50%;
 padding:2px;
 background:linear-gradient(45deg,#ff2e88,#ff7a00);
}

.feed{
 height:610px;
 overflow:auto;
}

.card{
 background:#151515;
 margin:14px;
 border-radius:20px;
 padding:14px;
 animation:fade .3s;
}
@keyframes fade{from{opacity:0;transform:translateY(20px)}}

.avatar{width:40px;height:40px;border-radius:50%}
.cardTop{display:flex;align-items:center;gap:10px}

.follow{
 margin-left:auto;
 font-size:12px;
 background:#ff2e88;
 padding:4px 10px;
 border-radius:10px;
}

.card img{
 width:100%;
 border-radius:14px;
 margin-top:10px;
}

.actions{display:flex;gap:20px;margin-top:10px;color:#bbb}

.bottom{
 position:absolute;
 bottom:0;
 width:100%;
 display:flex;
 justify-content:space-around;
 background:#111;
 padding:12px 0;
}

.fab{
 position:absolute;
 right:20px;
 bottom:90px;
 width:58px;
 height:58px;
 border-radius:50%;
 background:#ff2e88;
 display:flex;
 align-items:center;
 justify-content:center;
 font-size:28px;
}

.panel{
 position:absolute;
 bottom:-100%;
 left:0;
 width:100%;
 height:70%;
 background:#111;
 border-radius:20px 20px 0 0;
 padding:20px;
 transition:.3s;
 overflow:auto;
}

.dmList div{
 padding:12px;
 border-bottom:1px solid #222;
}
</style>
</head>

<body>

<div class="phone">

<div class="header">
<div>LOYD</div>
<div onclick="openDM()">ğŸ’¬</div>
</div>

<div class="storyRow" id="stories"></div>
<div class="feed" id="feed"></div>

<div class="fab" onclick="write()">+</div>

<div class="bottom">
<div>í™ˆ</div>
<div onclick="openDM()">DM</div>
<div onclick="alert('ì•Œë¦¼ ì—†ìŒ')">ì•Œë¦¼</div>
<div onclick="profile()">í”„ë¡œí•„</div>
</div>

<div class="panel" id="commentPanel"></div>
<div class="panel" id="dmPanel"></div>

</div>

<script>

let user=JSON.parse(localStorage.getItem("user"))||{
 name:"USER",
 pfp:"https://i.pravatar.cc/100",
 artist:false
};

let posts=JSON.parse(localStorage.getItem("posts"))||[];

function save(){
 localStorage.setItem("posts",JSON.stringify(posts));
 localStorage.setItem("user",JSON.stringify(user));
}

function renderStories(){
 stories.innerHTML=`
 <div class="story">
 <img src="${user.pfp}">
 <div>${user.name}</div>
 </div>`;
}

function renderFeed(){
 feed.innerHTML="";
 posts.forEach((p,i)=>{
   feed.innerHTML+=`
   <div class="card">
   <div class="cardTop">
   <img class="avatar" src="${p.pfp}">
   <div>${p.author}</div>
   <div class="follow">íŒ”ë¡œìš°</div>
   </div>
   <div>${p.text}</div>
   ${p.img?`<img src="${p.img}">`:''}
   <div class="actions">
   <div onclick="like(${i})">â¤ ${p.likes}</div>
   <div onclick="openComments(${i})">ğŸ’¬ ${p.comments.length}</div>
   </div>
   </div>`;
 });
}

function write(){
 let t=prompt("ë‚´ìš©");
 if(!t) return;
 posts.unshift({
  author:user.name,
  pfp:user.pfp,
  text:t,
  img:"",
  likes:0,
  comments:[]
 });
 save();
 renderFeed();
}

function like(i){
 posts[i].likes++;
 save();
 renderFeed();
}

function openComments(i){
 let panel=document.getElementById("commentPanel");
 panel.style.bottom="0";
 panel.innerHTML=`<h3>ëŒ“ê¸€</h3>`;
 posts[i].comments.forEach(c=>{
   panel.innerHTML+=`<div>${c}</div>`;
 });
 panel.innerHTML+=`
 <input id="cInput">
 <button onclick="addComment(${i})">ì‘ì„±</button>
 <button onclick="closePanel()">ë‹«ê¸°</button>`;
}

function addComment(i){
 posts[i].comments.push(cInput.value);
 save();
 openComments(i);
}

function closePanel(){
 document.querySelectorAll(".panel").forEach(p=>p.style.bottom="-100%");
}

function openDM(){
 let p=document.getElementById("dmPanel");
 p.style.bottom="0";
 p.innerHTML=`<h3>DM</h3>
 <div class="dmList">
 <div>Artist1 (ì½ìŒ)</div>
 <div>Artist2</div>
 </div>
 <button onclick="closePanel()">ë‹«ê¸°</button>`;
}

renderStories();
renderFeed();

</script>

</body>
</html>

